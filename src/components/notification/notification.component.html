<div class="fixed top-5 right-5 w-[90%] max-w-sm z-[9999] flex flex-col items-end gap-3">
  @for (notif of notificationSvc.notifications(); track notif.id) {
    <div 
      class="w-full bg-white/80 backdrop-blur-md border border-slate-200 rounded-2xl p-4 shadow-2xl shadow-sky-200/50 animate-fade-in-up"
      [class.animate-slide-out-right]="notif.hiding"
    >
      <div class="flex items-start gap-4">
        <div class="text-2xl mt-1">{{ notif.icon }}</div>
        <div class="flex-grow">
          <h3 class="font-bold text-base" [style.color]="notif.color">{{ notif.title }}</h3>
          <p class="text-sm text-slate-600 font-medium leading-snug mt-1 whitespace-pre-wrap">{{ notif.message }}</p>
          @if (notif.type === 'version') {
            <button (click)="refreshPage()" class="mt-3 text-xs font-bold bg-teal-500 text-white px-3 py-1.5 rounded-lg hover:bg-teal-600 transition-colors">
              Muat Semula Halaman
            </button>
          }
        </div>
        <button (click)="notificationSvc.hide(notif.id)" class="p-1 -mt-1 -mr-1 text-slate-400 hover:text-slate-600 transition-colors flex-shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </div>
    </div>
  }
</div>