<div class="flex flex-col items-center justify-center min-h-screen bg-sky-900 p-4 animate-fade-in-up">
  <div class="text-center mb-10">
    <h1 class="font-bold text-3xl text-white leading-tight">MECC AMAL <span class="text-xs bg-sky-700 px-2 py-0.5 rounded-full ml-1 align-middle">v2.0</span></h1>
    <p class="text-sm text-sky-300 uppercase tracking-widest font-bold mt-1">Respon Pintar Cloud</p>
  </div>

  <div class="w-full max-w-sm space-y-5">
    <!-- Live Mode Card -->
    <button (click)="selectMode(false)" class="w-full bg-white p-6 rounded-3xl shadow-lg text-left transform hover:scale-105 transition-transform duration-300 ease-out">
      <div class="flex items-center gap-5">
        <div class="bg-sky-100 text-sky-600 p-4 rounded-2xl">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>
        </div>
        <div>
          <h2 class="font-bold text-lg text-slate-800">Mod Langsung</h2>
          <p class="text-sm text-slate-500 mt-1">Sambung ke Cloud sebenar untuk pengurusan acara secara langsung.</p>
        </div>
      </div>
    </button>

    <!-- Simulation Mode Card -->
    <button (click)="selectMode(true)" class="w-full bg-white p-6 rounded-3xl shadow-lg text-left transform hover:scale-105 transition-transform duration-300 ease-out">
      <div class="flex items-center gap-5">
        <div class="bg-amber-100 text-amber-600 p-4 rounded-2xl">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><line x1="10" y1="9" x2="8" y2="9"></line></svg>
        </div>
        <div>
          <h2 class="font-bold text-lg text-slate-800">Mod Simulasi</h2>
          <p class="text-sm text-slate-500 mt-1">Guna data sampel untuk latihan atau demonstrasi sistem.</p>
        </div>
      </div>
    </button>
    
    <!-- Responder Login (Simulation only) -->
    <button (click)="enterResponderLogin()" class="w-full bg-white p-6 rounded-3xl shadow-lg text-left transform hover:scale-105 transition-transform duration-300 ease-out">
      <div class="flex items-center gap-5">
        <div class="bg-emerald-100 text-emerald-600 p-4 rounded-2xl">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div>
          <h2 class="font-bold text-lg text-slate-800">Log Masuk Petugas</h2>
          <p class="text-sm text-slate-500 mt-1">Sesi latihan untuk petugas di lapangan (simulasi sahaja).</p>
        </div>
      </div>
    </button>
  </div>
  
  <div class="text-center mt-8">
    <button (click)="showAboutModal()" class="text-sm text-sky-300 hover:text-white underline transition-colors">
      Mengenai Sistem & Panduan
    </button>
  </div>

  <p class="text-xs text-sky-400 mt-6 text-center">Sila pilih mod operasi untuk aplikasi.</p>
</div>

<!-- About System Modal -->
@if (isAboutVisible()) {
  <div class="fixed inset-0 bg-black/70 z-[9990] flex items-center justify-center p-4 animate-fade-in-up" (click)="hideAboutModal()">
    <div class="bg-sky-50 w-full max-w-lg max-h-[90vh] rounded-3xl shadow-2xl flex flex-col" (click)="$event.stopPropagation()">
      <!-- Header -->
      <div class="p-5 border-b border-sky-200 flex justify-between items-center flex-shrink-0">
        <h3 class="font-bold text-sky-800 text-lg">Mengenai Sistem & Panduan</h3>
        <button (click)="hideAboutModal()" class="p-2 bg-sky-100 rounded-full text-sky-600 hover:bg-sky-200 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </div>
      <!-- Content (scrollable) -->
      <div class="p-5 overflow-y-auto space-y-6 text-slate-700">
        <!-- System Workflow -->
        <div>
          <h4 class="text-xs font-black text-sky-600 uppercase tracking-widest mb-3">Aliran Kerja Sistem</h4>
          <ol class="list-decimal list-inside space-y-2 text-sm text-slate-600">
            <li><span class="font-bold">Konfigurasi:</span> Di tab <span class="font-bold bg-sky-100 text-sky-800 px-1.5 py-0.5 rounded">Tetapan</span>, masukkan URL Google Apps Script anda untuk menyambung ke Cloud.</li>
            <li><span class="font-bold">Cipta/Pilih Program:</span> Tambah program baru di tab <span class="font-bold bg-sky-100 text-sky-800 px-1.5 py-0.5 rounded">Tetapan</span> atau pilih program sedia ada di tab <span class="font-bold bg-sky-100 text-sky-800 px-1.5 py-0.5 rounded">Program</span>.</li>
            <li><span class="font-bold">Aktifkan Program:</span> Tekan butang 'Aktifkan' pada program pilihan anda untuk memulakan pemantauan.</li>
            <li><span class="font-bold">Pantau Dashboard:</span> Pergi ke tab <span class="font-bold bg-sky-100 text-sky-800 px-1.5 py-0.5 rounded">Dashboard</span> untuk melihat data kehadiran dan laporan kes secara langsung.</li>
            <li><span class="font-bold">Urus Data Operasi:</span> Di tab <span class="font-bold bg-sky-100 text-sky-800 px-1.5 py-0.5 rounded">Program</span>, klik 'Maklumat Lanjut' untuk menambah data Cekpoint, Ambulans, dan maklumat lain yang berkaitan.</li>
          </ol>
        </div>
        <!-- Main Functions -->
        <div>
          <h4 class="text-xs font-black text-sky-600 uppercase tracking-widest mb-3">Fungsi Utama Mengikut Tab</h4>
          <div class="space-y-4">
            <div class="text-sm">
              <p class="font-bold text-slate-800">Dashboard</p>
              <ul class="list-disc list-inside text-slate-600 text-xs mt-1 space-y-1">
                <li>Papan pemuka masa nyata untuk status operasi.</li>
                <li>Statistik utama: Jumlah kes & responder aktif.</li>
                <li>Senarai kehadiran (log masuk/keluar) & laporan kes terkini.</li>
                <li>Paparan maklumat operasi seperti Cekpoint dan Ambulans.</li>
              </ul>
            </div>
            <div class="text-sm">
              <p class="font-bold text-slate-800">Program</p>
              <ul class="list-disc list-inside text-slate-600 text-xs mt-1 space-y-1">
                <li>Papar, pilih, dan aktifkan program untuk pemantauan.</li>
                <li>Tambah atau kemas kini maklumat terperinci untuk setiap program (Cekpoint, Ambulans, dll).</li>
              </ul>
            </div>
            <div class="text-sm">
              <p class="font-bold text-slate-800">Tetapan</p>
              <ul class="list-disc list-inside text-slate-600 text-xs mt-1 space-y-1">
                <li>Konfigurasi sambungan ke Google Cloud.</li>
                <li>Cipta program baru untuk Mod Langsung atau Simulasi.</li>
                <li>Jalankan diagnostik sistem seperti menguji sambungan dan menyemak struktur Helaian Google.</li>
                <li>Lihat maklumat versi aplikasi dan senarai ciri.</li>
              </ul>
            </div>
          </div>
        </div>
        <!-- Simulation Mode -->
        <div>
          <h4 class="text-xs font-black text-amber-600 uppercase tracking-widest mb-3">Mod Simulasi</h4>
          <p class="text-sm text-slate-700 mb-2">Mod ini direka untuk tujuan latihan, demonstrasi, dan ujian tanpa menjejaskan data sebenar.</p>
          <ul class="list-disc list-inside text-slate-600 text-xs space-y-1">
            <li><span class="font-bold">Penjanaan Data Automatik:</span> Sistem akan menjana data sampel secara automatik, termasuk log masuk/keluar responder dan laporan kes baru.</li>
            <li><span class="font-bold">Penyegaran Pantas:</span> Data pada dashboard disegarkan dengan lebih kerap untuk menunjukkan pengalaman yang dinamik.</li>
            <li><span class="font-bold">Pengurusan Program Simulasi:</span> Anda boleh mencipta program baru yang hanya wujud dalam sesi simulasi semasa.</li>
            <li><span class="font-bold">Eksport Data:</span> Muat turun semua data yang dijana semasa sesi simulasi sebagai fail JSON untuk analisis atau simpanan.</li>
          </ul>
        </div>
      </div>
       <!-- Footer -->
       <div class="p-4 border-t border-sky-200 flex-shrink-0 flex justify-end">
         <button (click)="hideAboutModal()" class="bg-sky-600 text-white font-bold py-2 px-6 rounded-xl hover:bg-sky-700 transition-colors">
           Tutup
         </button>
       </div>
    </div>
  </div>
}